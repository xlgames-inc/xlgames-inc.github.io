<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="XL Games">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
<link href='/assets/stylesheets/bootstrap.min-93b47f97c3444c4711853ed5140d82a1.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/style-1dcb1d39791f3457afa56d279fcf0945.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/google_prettify/sons-of-obsidian-5e05343fd0c18e0a05231023b643245c.css' type='text/css' rel='stylesheet' media='all'>
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">XLE development blog</a>
          <ul class="nav">
              
                <li><a href="/tags">Tags</a></li>
              
              
                <li><a href="/archive">Archive</a></li>
              
              
                <li><a href="/about">About</a></li>
              
          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        <div class="row-fluid">
  <div class="span12">
      <div class="_root">
        <h3 class="title"><a href="/about">About</a><br/> <span class="date"></span></h3>

        <div class="summary">
<p>XLE is an open-source game engine (currently in development).</p>

<p>Find us on Github:
    <a href="https://github.com/xlgames-inc/XLE">https://github.com/xlgames-inc/XLE</a></p>

<p>Documentation starting point:
    <a href="https://github.com/xlgames-inc/XLE/wiki">https://github.com/xlgames-inc/XLE/wiki</a></p>
</div>

        <div class="more">
          <a href="/about" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="_root">
        <h3 class="title"><a href="/archive">Archive</a><br/> <span class="date"></span></h3>

        <div class="summary ellipsis">
  <h2>2016</h2>
    <h3>December</h3>
    <ul>
      <li>
<span>December 27, 2016</span> » <a href="/posts/sphericalharmonics0">Spherical Harmonics and applications in real time graphics</a>
</li>
    </ul>
    <h3>June</h3>
    <ul>
      <li>
<span>June 19, 2016</span> » <a href="/posts/juneupdate">Latest Update</a>
</li>
    </ul>
    <h3>May</h3>
    <ul>
      <li>
<span>May 09, 2016</span> » <a href="/posts/metallayerrefactoring">Vulkan prototype - metal layer refactoring</a>
</li>
      <li>
<span>May 04, 2016</span> » <a href="/posts/vulkanmoreprogress">Vulkan latest progress -- core lighting working</a>
</li>
    </ul>
    <h3>April</h3>
    <ul>
      <li>
<span>April 22, 2016</span> » <a href="/posts/vulkandeclarativelightingparser">Vulkan prototype - how many separate render passes in the lighting parser?</a>
</li>
      <li>
<span>April 15, 2016</span> » <a href="/posts/vulkanbigissues">Vulkan prototype - the big issues</a>
</li>
      <li>
<span>April 12, 2016</span> » <a href="/posts/vulkantips">Important Vulkan tips</a>
</li>
      <li>
<span>April 08, 2016</span> » <a href="/posts/vulkanprototypeslowprogress">Vulkan prototype slowly progressing</a>
</li>
      <li>
<span>April 05, 2016</span> » <a href="/posts/vulkanshaderprototype">HLSL shader prototype with Vulkan</a>
</li>
      <li>
<span>April 04, 2016</span> » <a href="/posts/vulkan">Starting to experiment with Vulkan</a>
</li>
    </ul>
</div>

        <div class="more">
          <a href="/archive" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="_root">
        <h3 class="title"><a href="/categories">Categories</a><br/> <span class="date"></span></h3>

        <div class="summary ellipsis">
<ul class="tag_box inline">
  <li>
    <a href="/categories#XLE-ref">XLE <span>26</span></a>
  </li>
  <li>
    <a href="/categories#blog-ref">blog <span>1</span></a>
  </li>
  <li>
    <a href="/categories#Misc-ref">Misc <span>1</span></a>
  </li>
</ul>

  <h3>XLE (26)</h3>
  <ul>
      <li><a href="/posts/arealightsandpbr">Area Lights with Physically Based Rendering</a></li>
      <li><a href="/posts/assetpathscripts">Processing textures with the XLE scriptable asset path</a></li>
      <li><a href="/posts/compareoitrans">Comparing different methods for order independent transparency</a></li>
      <li><a href="/posts/environmentsample">Environment Sample Streamlining</a></li>
      <li><a href="/posts/envshots">Environment Rendering Screenshots</a></li>
      <li><a href="/posts/functionlinkedshaders">Dynamic Function Linking Graph for Shaders</a></li>
      <li><a href="/posts/improvedibl">Improved IBL</a></li>
      <li><a href="/posts/juneupdate">Latest Update</a></li>
      <li><a href="/posts/materialtool">Material and Node Diagram Tool</a></li>
      <li><a href="/posts/metallayerrefactoring">Vulkan prototype - metal layer refactoring</a></li>
      <li><a href="/posts/newtoolfeatures">Latest Tool Features</a></li>
      <li><a href="/posts/rectlightdiffuse">Rectangle Light diffuse vs 3DS Max</a></li>
      <li><a href="/posts/release0040">Release v0.04.0</a></li>
      <li><a href="/posts/transmissionnodegraph">Transmission Node Diagram</a></li>
      <li><a href="/posts/transmittedspecular">Transmitted specular</a></li>
      <li><a href="/posts/transmittedspecular2">Transmitted specular progress</a></li>
      <li><a href="/posts/transmittedspecular3">Transmitted specular</a></li>
      <li><a href="/posts/vulkan">Starting to experiment with Vulkan</a></li>
      <li><a href="/posts/vulkanbigissues">Vulkan prototype - the big issues</a></li>
      <li><a href="/posts/vulkandeclarativelightingparser">Vulkan prototype - how many separate render passes in the lighting parser?</a></li>
      <li><a href="/posts/vulkanmoreprogress">Vulkan latest progress -- core lighting working</a></li>
      <li><a href="/posts/vulkanprototypeslowprogress">Vulkan prototype slowly progressing</a></li>
      <li><a href="/posts/vulkanshaderprototype">HLSL shader prototype with Vulkan</a></li>
      <li><a href="/posts/vulkantips">Important Vulkan tips</a></li>
      <li><a href="/posts/whattodofirst">What to do first</a></li>
      <li><a href="/posts/workingonrectlights">Working some improvements to rectangle lights</a></li>
  </ul>
</div>

        <div class="more">
          <a href="/categories" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="_root">
        <h3 class="title"><a href="/">Home</a><br/> <span class="date"></span></h3>

        <div class="summary ellipsis">
<p>Yikes; it's been awhile since my last update!</p>

<p>I wanted to share a little bit of information from a technique I've recently been working on for an unrelated project. The technique uses a series of equations called "spherical harmonics" for extremely efficient high quality diffuse environment illumination.</p>

<p>This is a technique that started to become popular maybe around 15 years ago -- possibly because of its usefulness on low power hardware. It fell out of favour for awhile, I was never entirely clear why. I got some good value from it back then, and I hope to get more good value from the technique now; so perhaps it's time for spherical harmonic's star to come around again?</p>

<p>There's a fair amount of information about spherical harmonics on the internet, but some of can be a little dense. There seems to be lack of information on how to take the first few steps in applying this math to the graphics domain (for example, for diffuse environment lighting). So I'll try to keep this page approachable for graphics programmers, while also linking off to some of the more dense and abstract stuff later on. And I'll focus specifically on how I'm using this math for graphics, how I've used it in the past, and how I'd like that to grow in the future.</p>

<h2 id="toc_0">What are spherical harmonics</h2>

<p>The "spherical harmonics" are a series of equations that we'll use to compress lighting information greatly. The easiest way to understand them is to start with something simpler and analogous -- and that is cubic splines.</p>

<p>Splines are a method of describing a curve through space with a finite number of points (or points and tangents). Even though the curve is defined by a finite number of parameters, the result is effectively an infinite number of points. To define the curve, we need equations of the form:</p>

<p><br><img src="/assets/media/SphericalHarmonics/basic_spline.png">
<br></p>

<p>Where <strong>t</strong> is the distance along the spline (usually between 0 and 1) and <strong>x</strong>, <strong>y</strong> &amp; <strong>z</strong> are cartesian coordinates.
In the case of cubic splines, the functions <strong>f</strong>, <strong>h</strong> and <strong>g</strong> are cubic polynomials. If you've used Bezier splines before, you may be familiar with a way to express these polynomials using a form called a <em>"Bernstein polynomial"</em>.</p>

<h3 id="toc_1">Bernstein basis</h3>
</div>

        <div class="more">
          <a href="/" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="_root">
        <h3 class="title"><a href="/pages">Pages</a><br/> <span class="date"></span></h3>

        <div class="summary">
<ul>
  
    <li><a href="/about">About</a></li>
  
  
    <li><a href="/archive">Archive</a></li>
  
  
    <li><a href="/categories">Categories</a></li>
  
  
    <li><a href="/">Home</a></li>
  
    <li class="active"><a href="/pages" class="active">Pages</a></li>
  
  
  
    <li><a href="/tags">Tags</a></li>
  
</ul>
</div>

        <div class="more">
          <a href="/pages" class="btn btn-small">read more..</a>
        </div>
      </div>
    
    <div class="pagination">
      <ul>
          <li class="active"><a href="/index/1">1</a></li>
          <li><a href="/index/2">2</a></li>
      </ul>
    </div>
  </div>
</div>

      </div>

      <hr>
      <div class="footer">
        <p>&copy; XL Games 2015
          with help from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </div>

    </div> <!-- /container -->

    <!-- Google Prettify -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-71034032-1']);
  _gaq.push(['_trackPageview']);
  

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    
  </body>
</html>
