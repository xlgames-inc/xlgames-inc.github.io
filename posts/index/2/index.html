<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="XL Games">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
<link href='/assets/stylesheets/bootstrap.min-93b47f97c3444c4711853ed5140d82a1.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/style-1dcb1d39791f3457afa56d279fcf0945.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/google_prettify/sons-of-obsidian-5e05343fd0c18e0a05231023b643245c.css' type='text/css' rel='stylesheet' media='all'>
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">XLE development blog</a>
          <ul class="nav">
              
                <li><a href="/tags">Tags</a></li>
              
              
                <li><a href="/archive">Archive</a></li>
              
              
                <li><a href="/about">About</a></li>
              
          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        <div class="row-fluid">
  <div class="span12">
      <div class="posts">
        <h3 class="title"><a href="/posts/newtoolfeatures">Latest Tool Features</a><br/> <span class="date">March 14, 2016</span></h3>

        <div class="summary ellipsis">
<p>Here's a rundown of some of the latest improvements to the tools. These are just a few additions and improvements made over about a week's time.</p>

<h2 id="toc_0">Search and Replace for placements</h2>

<p>Find placements using complex queries:
<br><img src="/assets/media/NewToolFeatures/SearchAndReplace.png"></p>

<p>Once found, they can be selected from the results menu (or run a replace operation).</p>

<p>Sometimes it's useful to search for placements that use a specific model:
<br><img src="/assets/media/NewToolFeatures/SearchShortcut.png"></p>

<h2 id="toc_1">Grouping support for placements</h2>

<p><br><img src="/assets/media/NewToolFeatures/Grouping.png"></p>

<p>Group together objects to make them easier to use. Support for hierarchical groups. Use the “Any Object (ignore groups)” filter to ignore groups when selecting.</p>

<h2 id="toc_2">Randomize transforms</h2>

<p><br><img src="/assets/media/NewToolFeatures/RandomizeTransforms.png">
<br><img src="/assets/media/NewToolFeatures/RandomTransMenu.png"></p>
</div>

        <div class="more">
          <a href="/posts/newtoolfeatures" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/posts/transmittedspecular3">Transmitted specular</a><br/> <span class="date">February 05, 2016</span></h3>

        <div class="summary ellipsis">
<p>I've been playing with the transmitted specular implementation for IBL, and working on getting the right balance and visual impression for glass.</p>

<p><br><img src="/assets/media/TransSpec/GlassSphere.png">
<br><em>Background textures from <a href="http://www.hdrlabs.com/sibl/archive.html">http://www.hdrlabs.com/sibl/archive.html</a></em></p>

<p>It's curious to think about how terms have changed over the last few years. "Specular transmission" is the term I've been using to talk about what we might have previously called "refraction mapping", and "specular IBL" is the new term for "reflection mapping." The new terms show how real-time methods are now encompassing ideas previously only used in ray tracers.</p>

<h2 id="toc_0">Basic method</h2>

<p>I've using the basic method from the GGX paper, <em>"Microfacet Models for Refraction through Rough Surfaces"</em> from Walter, et al. This matches our reflection implementation, of course, because the math for our reflection method is also based on that paper.</p>

<p>I've been able to adapt the math to the split-term concept used for reflected specular IBL. It works just the same way; we have one lookup-table that tell us the brightness of the refraction, and a cubemap that is pre-blurred according to the shape of our lighting equation.</p>

<p>See the page on <a href="improvedibl">Improved IBL</a> for more information that that split-term stuff.</p>

<p>The basic principles are simple. But followed blindly, the results do not quite feel right. It turns out that specular transmission is more complicated than specular reflections. I'll talk about some of the complications involved in the implementation...</p>

<h2 id="toc_1">Relationship between "specular" and index of refraction</h2>

<p>It's important to remember that there is a relationship between the "specular" material parameter and the index of refraction.</p>

</div>

        <div class="more">
          <a href="/posts/transmittedspecular3" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/posts/improvedibl">Improved IBL</a><br/> <span class="date">February 01, 2016</span></h3>

        <div class="summary ellipsis">
<p>I've been working on improving the accuracy of the Imaged Based Lighting (IBL) solution for XLE. This is the technology that allows us to load in a background panorama map and use it for both diffuse and specular lighting.</p>

<p>The best way to do this is by comparing our real-time result to other renderers. So, for example, I've been experimenting with Substance Designer (more on that later). It has nVidia's "IRay" raytracer built-in -- so we can compare the non-real-time results from IRay with real-time XLE. I have other ways to do this, also -- for example, the shader in ToolsHelper/BRDFSlice.sh can generate textures directly comparable with Disney's BRDFExplorer tool.</p>

<p>While doing this (and working on the specular transmission stuff), I've found some interesting improvements to the IBL solution!</p>

<h2 id="toc_0">Conclusion</h2>

<p>This is a really long post; so I'll start with the conclusion. I've made a number of improvements that make the IBL solution appear more realistic, and more similar to ray tracers.</p>

<p><br><img src="/assets/media/ImprovedIBL/Spheres.png">
<br><img src="/assets/media/ImprovedIBL/SpheresMetal.png">
<br><img src="/assets/media/ImprovedIBL/Jamie.png">
<em>"Jamie Gnome" model from here: <a href="http://www.turbosquid.com/3d-models/free-obj-mode-jamie-hyneman-gnome/789391">http://www.turbosquid.com/3d-models/free-obj-mode-jamie-hyneman-gnome/789391</a></em></p>

<p>I found some errors in some source material I referenced and fixed some incorrect assumptions I made. Each change is small. But when added up, they make a big difference. The IBL specular is has a lot much punch, things are jumping off the screen better.</p>

<p>Now, I'll go into detail about what's changed.</p>

<h2 id="toc_1">IBL basis</h2>

</div>

        <div class="more">
          <a href="/posts/improvedibl" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/posts/transmittedspecular2">Transmitted specular progress</a><br/> <span class="date">January 29, 2016</span></h3>

        <div class="summary ellipsis">
<p>Just a quick update... I've been making some great progress with transmitted specular for IBL!</p>

<p><br><img src="/assets/media/TransSpec/TransSphereMat.png"></p>

<p>These screenshots will look a little strange (I mean that black borders &amp; grainyness), because it's a debugging rendering mode.</p>

<p><br><img src="/assets/media/TransSpec/TransSphereMat2.png"></p>

<p>I've got the split-term stuff going; and it looks like it should be practical. I'd prefer to avoid having yet another cubemap, so maybe there's some way to just reuse the reflection filtered cubemap. Its seems reasonable to say that the filtering should be similar. We just need some way to calculate the amount of blurriness that is correct for transmissions.</p>

<p><br><img src="/assets/media/TransSpec/TransSphereMat3.png"></p>

<p>Speaking of that, I've been thinking the type of filtering that is applied to the specular map. More on that later.</p>

<p>Next week I'll post some proper screenshots &amp; a whole lot of details!</p>

<p>I made some interesting observations while doing this, I've got a bunch of new changes and improvements for IBL. Check out the "experimental" branch for now.</p>

<p>BTW, the node diagram for the GGX BSDF equation looks a little nicer now --</p>

<p><br><img src="/assets/media/TransSpec/BSDFNodes2.png"></p>

</div>

        <div class="more">
          <a href="/posts/transmittedspecular2" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/posts/assetpathscripts">Processing textures with the XLE scriptable asset path</a><br/> <span class="date">January 26, 2016</span></h3>

        <div class="summary ellipsis">
<p>I've included a few Gradle scripts in the XLE distribution. This is mostly just a simple set of tools I use for my own testing. But you may find it useful for your own needs.</p>

<p>Of course this system isn't designed to be 100% robust and fool proof. Actually, it's just a few simple scripts. But it is scalable and flexible.</p>

<h2 id="toc_0">Gradle</h2>

<p>At heart, an <strong>"asset path"</strong> is some system that can identify changed assets, recognize processing working that needs to be performed with those assets, and schedule that work.</p>

<p>For example, we might have an asset for a sky background texture. Various processing tools need to pre-filter this texture so it can be used for image based lighting. Whenever the texture changes (or when the processing tools change) we want to execute the processing steps and produce intermediate assets.</p>

<p>XLE does some processing at runtime. But that is only practical for short processing steps. Expensive processing steps need some other solution.</p>

<p>So we need some build system to manage assets and dependences. Are requirements are similar to build systems we use for code. But most code-oriented build systems don't work well for assets.</p>

<p>I picked <em>Gradle</em> because of it's procedural nature. It allows us to specify input assets -- but also to give instructions to the build path on how to handle that object. For example, we need to tell the build path if a texture is a sky texture, a normals texture, or some other type... That kind of thing just falls out of <em>Gradle</em> very easily.</p>

<h2 id="toc_1">Executing Gradle</h2>

<p>First, you need to install Gradle, from: <a href="http://gradle.org/gradle-download/">http://gradle.org/gradle-download/</a></p>

<p>In Tools/AssetPath, we have the "settings.gradle" root project file. Also, this folder contains some "groovy" source files that contain gradle task type implementations. So, there is a task type for processing sky textures -- which basically just involves executing a number of command line operations.</p>
</div>

        <div class="more">
          <a href="/posts/assetpathscripts" class="btn btn-small">read more..</a>
        </div>
      </div>
    
    <div class="pagination">
      <ul>
          <li><a href="/posts/index/1">1</a></li>
          <li class="active"><a href="/posts/index/2">2</a></li>
          <li><a href="/posts/index/3">3</a></li>
          <li><a href="/posts/index/4">4</a></li>
      </ul>
    </div>
  </div>
</div>

      </div>

      <hr>
      <div class="footer">
        <p>&copy; XL Games 2015
          with help from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </div>

    </div> <!-- /container -->

    <!-- Google Prettify -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-71034032-1']);
  _gaq.push(['_trackPageview']);
  

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    
  </body>
</html>
